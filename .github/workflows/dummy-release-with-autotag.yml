name: Release with Autotag

on:
  workflow_dispatch:

jobs:
  need-approval:
    name: "Need approval to run autotag workflow"
    runs-on: ubuntu-latest
    steps:
      - name: Awaiting approval
        run: echo "This is a dummy release workflow that needs approval to run the autotag workflow. Please approve to proceed."
        env: dummy-release

  call-autotag:
    needs: need-approval
    uses: ./.github/workflows/autotag-release.yml
    permissions:
      contents: write
